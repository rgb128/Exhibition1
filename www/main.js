(()=>{"use strict";var t={651:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIG=void 0;var s;e.CONFIG=s;var i=document.getElementById("container");e.CONFIG=s=new function(){this.defaults={x:0,y:0},this.portalsMoveWhenYouAreInPortal=!0,this.screen={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,data:{x:this.defaults.x,y:this.defaults.y,portalIn:void 0}},this.one=(this.screen.width+this.screen.height-Math.abs(this.screen.width-this.screen.height))/2,this.portalDefaults={speed:.7,z:5*-this.one,x:0,y:0,width:this.one/4,height:this.one/4,length:3*this.one,xCreationRadius:1*this.one,yCreationRadius:1*this.one},this.consts={perspective:this.one/3,container:document.getElementById("screen"),movingDelta:.1*this.one,creationMs:1500},this.position={x:this.defaults.x,y:this.defaults.y}},i.style.perspective=s.consts.perspective+"px"},248:function(t,e,s){var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Portal=e.PortalHTML=void 0;var n=s(651),r=s(491),l=s(41),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(HTMLElement);e.PortalHTML=a;var h=function(){function t(t,e,s,i,o,r,l){this.x=t,this.y=e,this.distance=s,this.width=i,this.height=o,this.length=r,this.speed=l,this.root=document.createElement("div"),this.root.context=this,this.root.classList.add("portal"),this.root.style.width=this.width+"px",this.root.style.height=this.height+"px",this.walls=this.drawWalls(),this.onresize(),this.redraw(),n.CONFIG.consts.container.appendChild(this.root)}return t.prototype.redraw=function(){var t=n.CONFIG.screen.width/2+this.x-this.width/2,e=n.CONFIG.screen.height/2+this.y-this.height/2,s=this.distance;this.root.style.top=e+"px",this.root.style.left=t+"px",this.root.style.transform="translateZ("+s+"px)",this.onresize()},t.prototype.tick=function(t){var e=this.speed*t;this.distance+=e,this.root.style.transform="translateZ("+this.distance+"px)";var s=n.CONFIG.consts.perspective,i=this.length+n.CONFIG.consts.perspective;if(n.CONFIG.screen.data.portalIn===this){console.log("this portal");var o=r.map(this.distance,s,i,1,0);if(this.walls.end.style.opacity=""+o,this.distance>=i)return n.CONFIG.screen.data.portalIn=void 0,void this.root.remove()}else if(this.clipPath(),this.distance>=s){if(this.isUserInPortal(n.CONFIG.screen.data.x,n.CONFIG.screen.data.y)){if(n.CONFIG.screen.data.portalIn=this,console.log("entered"),n.CONFIG.portalsMoveWhenYouAreInPortal)for(var l=0,a=Array.from(document.querySelectorAll("#screen > .portal"));l<a.length;l++){var h=a[l].context;h!==this&&(h.distance-=this.length,h.clipPath())}return}return console.log("deleted"),void this.root.remove()}},t.prototype.drawWalls=function(){var t=l.buildWalls(this.width,this.height,this.length);return this.root.appendChild(t.left),this.root.appendChild(t.right),this.root.appendChild(t.top),this.root.appendChild(t.bottom),this.root.appendChild(t.end),t},t.prototype.onresize=function(){this.walls.left.style.width=this.length+"px",this.walls.left.style.height=this.height+"px",this.walls.right.style.left=this.width+"px",this.walls.right.style.width=this.length+"px",this.walls.right.style.height=this.height+"px",this.walls.top.style.width=this.width+"px",this.walls.top.style.height=this.length+"px",this.walls.bottom.style.top=this.height+"px",this.walls.bottom.style.width=this.width+"px",this.walls.bottom.style.height=this.length+"px",this.walls.end.style.width=this.width+"px",this.walls.end.style.height=this.height+"px",this.walls.end.style.transform="translateZ(-"+this.length+"px)",this.clipPath()},t.prototype.clipPath=function(){var t=this.walls,e=-1*this.distance+n.CONFIG.consts.perspective,s=n.CONFIG.screen.data.x+this.x,i=n.CONFIG.screen.data.y+this.y,o=this.width,r=this.height,l=this.length;if(t.left){if(s>o/2)t.left.style.width="0px";else if(s<-(o*e/l+o/2)){var a=o*e/(-s-o/2);t.left.style.width=a+"px"}else t.left.style.width=l+"px";if(-i>r/2){var h=r*e/(-i-r/2);t.left.style.clipPath="polygon(0px 0px, "+h+"px 0px, 0px "+r+"px"}else if(i>r/2){var p=r*e/(i-r/2);t.left.style.clipPath="polygon(0px 0px, "+p+"px "+r+"px, 0px "+r+"px"}else t.left.style.clipPath="none"}if(t.right&&(-s>o/2?t.right.style.width="0px":s>o*e/l+o/2?(a=o*e/(s-o/2),t.right.style.width=a+"px"):t.right.style.width=l+"px",-i>r/2?(h=r*e/(-i-r/2),t.right.style.clipPath="polygon(0px 0px, "+h+"px 0px, 0px "+r+"px"):i>r/2?(p=r*e/(i-r/2),t.right.style.clipPath="polygon(0px 0px, "+p+"px "+r+"px, 0px "+r+"px"):t.right.style.clipPath="none"),t.top)if(i>r/2?t.top.style.height="0px":i<-(r*e/l+r/2)?(a=r*e/(-i-r/2),t.top.style.height=a+"px"):t.top.style.height=l+"px",s>o/2){var d=o*e/(s-o/2);t.top.style.clipPath="polygon(0px 0px, "+o+"px "+d+"px, "+o+"px 0px)"}else if(-s>o/2){var c=o*e/(-s-o/2);t.top.style.clipPath="polygon("+o+"px 0px, 0px "+c+"px, 0px 0px)"}else t.top.style.clipPath="none";if(t.bottom&&(-i>r/2?t.bottom.style.height="0px":i>r*e/l+r/2?(a=r*e/(i-r/2),t.bottom.style.height=a+"px"):t.bottom.style.height=l+"px",s>o/2?(d=o*e/(s-o/2),t.bottom.style.clipPath="polygon(0px 0px, "+o+"px "+d+"px, "+o+"px 0px)"):-s>o/2?(c=o*e/(-s-o/2),t.bottom.style.clipPath="polygon("+o+"px 0px, 0px "+c+"px, 0px 0px)"):t.bottom.style.clipPath="none"),t.end){var x=l*(-s-o/2)/e;x=(x=o-x)<0?0:x>o?o:x;var u=l*(s-o/2)/e;u=u<0?0:u>o?o:u;var y=l*(-i-r/2)/e;y=(y=r-y)<0?0:y>r?r:y;var f=l*(i-r/2)/e;f=f<0?0:f>r?r:f,t.end.style.clipPath="polygon("+x+"px "+y+"px, "+u+"px "+y+"px, "+u+"px "+f+"px, "+x+"px "+f+"px)"}},t.prototype.isUserInPortal=function(t,e){var s=-t,i=-e,o=this.x-this.width/2,n=this.x+this.width/2,r=this.y-this.height/2,l=this.y+this.height/2;return s>o&&s<n&&i>r&&i<l},t}();e.Portal=h},82:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Walls=void 0;e.Walls=function(t,e,s,i,o){this.left=t,this.right=e,this.top=s,this.bottom=i,this.end=o}},41:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buildWalls=void 0;var i=s(82);e.buildWalls=function(t,e,s){var o=function(t){var e=document.createElement("div");e.classList.add("left-wall");var s=document.createElement("div");return s.classList.add("grid"),s.style.borderWidth=t+"px",e.appendChild(s),e}(t/33),n=function(){var t=document.createElement("div");t.classList.add("right-wall");for(var e=1;e<=3;e-=-1){var s=document.createElement("div");s.classList.add("painting","painting"+e),t.appendChild(s)}return t}(),r=function(){var t=document.createElement("div");return t.classList.add("top-wall"),t}(),l=function(){var t=document.createElement("div");return t.classList.add("bottom-wall"),t}(),a=function(){var t=document.createElement("div");return t.classList.add("end"),t}();return new i.Walls(o,n,r,l,a)}},491:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0,e.map=function(t,e,s,i,o){var n=t-e;return(n*=(o-i)/(s-e))+i}}},e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}(()=>{var t=s(651),e=s(248),i=s(491);window.onkeydown=function(e){var s=e.code,i=t.CONFIG.screen.data.x,o=t.CONFIG.screen.data.y;if("ArrowUp"===s||"KeyW"===s?o+=t.CONFIG.consts.movingDelta:"ArrowDown"===s||"KeyS"===s?o-=t.CONFIG.consts.movingDelta:"ArrowRight"===s||"KeyD"===s?i-=t.CONFIG.consts.movingDelta:"ArrowLeft"!==s&&"KeyA"!==s||(i+=t.CONFIG.consts.movingDelta),!t.CONFIG.screen.data.portalIn||t.CONFIG.screen.data.portalIn.isUserInPortal(i,o)){t.CONFIG.screen.data.x=i,t.CONFIG.screen.data.y=o;for(var n=0,r=Array.from(document.querySelectorAll("#screen > .portal"));n<r.length;n++){var l=r[n].context;l&&l!==t.CONFIG.screen.data.portalIn&&l.clipPath()}}};var o=performance.now(),n=void 0;!function s(r){"number"!=typeof r&&(r=0);var l=r-o;if(o=r,void 0===n&&(n=t.CONFIG.consts.creationMs),n>=t.CONFIG.consts.creationMs&&!t.CONFIG.screen.data.portalIn&&(n=0,new e.Portal(-t.CONFIG.screen.data.x+i.map(Math.random(),0,1,-t.CONFIG.portalDefaults.xCreationRadius,t.CONFIG.portalDefaults.xCreationRadius),-t.CONFIG.screen.data.y+i.map(Math.random(),0,1,-t.CONFIG.portalDefaults.yCreationRadius,t.CONFIG.portalDefaults.yCreationRadius),t.CONFIG.portalDefaults.z,t.CONFIG.portalDefaults.width,t.CONFIG.portalDefaults.width,t.CONFIG.portalDefaults.length,t.CONFIG.portalDefaults.speed)),n+=l,t.CONFIG.consts.container.style.left=t.CONFIG.screen.data.x+"px",t.CONFIG.consts.container.style.top=t.CONFIG.screen.data.y+"px",t.CONFIG.screen.data.portalIn&&!t.CONFIG.portalsMoveWhenYouAreInPortal)t.CONFIG.screen.data.portalIn.tick(l);else for(var a=0,h=Array.from(document.querySelectorAll("#screen > .portal"));a<h.length;a++)h[a].context.tick(l);requestAnimationFrame(s)}()})()})();