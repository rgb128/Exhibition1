(()=>{"use strict";var t={651:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONFIG=void 0;var s;e.CONFIG=s;var i=document.getElementById("container");e.CONFIG=s=new function(){this.portalDefaults={speed:1,z:1e3,x:0,y:0,width:100,height:100,length:1e3},this.defaults={x:0,y:0},this.consts={perspective:1e3,container:document.getElementById("screen"),movingDelta:5,creationMs:1e3},this.screen={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,data:{x:this.defaults.x,y:this.defaults.y,portalIn:void 0}},this.position={x:this.defaults.x,y:this.defaults.y}},i.style.perspective=s.consts.perspective+"px",console.log("hhhhhh")},248:function(t,e,s){var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)});Object.defineProperty(e,"__esModule",{value:!0}),e.Portal=e.PortalHTML=void 0;var h=s(82),l=s(651),n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(HTMLElement);e.PortalHTML=n;var r=function(){function t(t,e,s,i,o,h,n){this.x=t,this.y=e,this.distance=s,this.width=i,this.height=o,this.length=h,this.speed=n,this.root=document.createElement("div"),this.root.context=this,this.root.classList.add("portal"),this.root.style.width=this.width+"px",this.root.style.height=this.height+"px",this.walls=this.drawWalls(),this.onresize(),this.redraw(),l.CONFIG.consts.container.appendChild(this.root)}return t.prototype.redraw=function(){var t=l.CONFIG.screen.width/2+this.x-this.width/2,e=l.CONFIG.screen.height/2+this.y-this.height/2,s=this.distance;this.root.style.top=e+"px",this.root.style.left=t+"px",this.root.style.transform="translateZ("+s+"px)",this.onresize()},t.prototype.tick=function(t){if(l.CONFIG.screen.data.portalIn===this){var e=this.speed*t;if(this.distance+=e,this.root.style.transform="translateZ("+this.distance+"px)",this.clipPath(),this.distance>=l.CONFIG.consts.perspective+this.length)return void this.root.remove()}else if(l.CONFIG.screen.data.portalIn);else if(e=this.speed*t,this.distance+=e,this.root.style.transform="translateZ("+this.distance+"px)",this.clipPath(),this.distance>=l.CONFIG.consts.perspective)return console.log("X: "+this.x+" "+l.CONFIG.screen.data.x+" "+(this.x+this.width)),console.log("Y: "+this.y+" "+l.CONFIG.screen.data.y+" "+(this.y+this.height)),l.CONFIG.screen.data.x>this.x&&l.CONFIG.screen.data.x<this.x+this.width&&l.CONFIG.screen.data.y>this.y&&l.CONFIG.screen.data.y<this.y+this.height?void(l.CONFIG.screen.data.portalIn=this):void this.root.remove()},t.prototype.drawWalls=function(){var t=document.createElement("div");t.classList.add("left-wall");var e=document.createElement("div");e.classList.add("right-wall");var s=document.createElement("div");s.classList.add("top-wall");var i=document.createElement("div");i.classList.add("bottom-wall");var o=document.createElement("div");o.classList.add("end");var l=new h.Walls;return l.left=t,l.right=e,l.top=s,l.bottom=i,l.end=o,this.root.appendChild(t),this.root.appendChild(e),this.root.appendChild(s),this.root.appendChild(i),this.root.appendChild(o),l},t.prototype.onresize=function(){this.walls.left.style.width=this.length+"px",this.walls.left.style.height=this.height+"px",this.walls.right.style.left=this.width+"px",this.walls.right.style.width=this.length+"px",this.walls.right.style.height=this.height+"px",this.walls.top.style.width=this.width+"px",this.walls.top.style.height=this.length+"px",this.walls.bottom.style.top=this.height+"px",this.walls.bottom.style.width=this.width+"px",this.walls.bottom.style.height=this.length+"px",this.walls.end.style.width=this.width+"px",this.walls.end.style.height=this.height+"px",this.walls.end.style.transform="translateZ(-"+this.length+"px)",this.clipPath()},t.prototype.clipPath=function(){var t=this.walls,e=-1*this.distance+l.CONFIG.consts.perspective,s=l.CONFIG.screen.data.x+this.x,i=l.CONFIG.screen.data.y+this.y,o=this.width,h=this.height,n=this.length;if(t.left){if(s>o/2)t.left.style.width="0px";else if(s<-(o*e/n+o/2)){var r=o*e/(-s-o/2);t.left.style.width=r+"px"}else t.left.style.width=n+"px";if(-i>h/2){var a=h*e/(-i-h/2);t.left.style.clipPath="polygon(0px 0px, "+a+"px 0px, 0px "+h+"px"}else if(i>h/2){var p=h*e/(i-h/2);t.left.style.clipPath="polygon(0px 0px, "+p+"px "+h+"px, 0px "+h+"px"}else t.left.style.clipPath="none"}if(t.right&&(-s>o/2?t.right.style.width="0px":s>o*e/n+o/2?(r=o*e/(s-o/2),t.right.style.width=r+"px"):t.right.style.width=n+"px",-i>h/2?(a=h*e/(-i-h/2),t.right.style.clipPath="polygon(0px 0px, "+a+"px 0px, 0px "+h+"px"):i>h/2?(p=h*e/(i-h/2),t.right.style.clipPath="polygon(0px 0px, "+p+"px "+h+"px, 0px "+h+"px"):t.right.style.clipPath="none"),t.top)if(i>h/2?t.top.style.height="0px":i<-(h*e/n+h/2)?(r=h*e/(-i-h/2),t.top.style.height=r+"px"):t.top.style.height=n+"px",s>o/2){var c=o*e/(s-o/2);t.top.style.clipPath="polygon(0px 0px, "+o+"px "+c+"px, "+o+"px 0px)"}else if(-s>o/2){var d=o*e/(-s-o/2);t.top.style.clipPath="polygon("+o+"px 0px, 0px "+d+"px, 0px 0px)"}else t.top.style.clipPath="none";if(t.bottom&&(-i>h/2?t.bottom.style.height="0px":i>h*e/n+h/2?(r=h*e/(i-h/2),t.bottom.style.height=r+"px"):t.bottom.style.height=n+"px",s>o/2?(c=o*e/(s-o/2),t.bottom.style.clipPath="polygon(0px 0px, "+o+"px "+c+"px, "+o+"px 0px)"):-s>o/2?(d=o*e/(-s-o/2),t.bottom.style.clipPath="polygon("+o+"px 0px, 0px "+d+"px, 0px 0px)"):t.bottom.style.clipPath="none"),t.end){var x=n*(-s-o/2)/e;x=(x=o-x)<0?0:x>o?o:x;var y=n*(s-o/2)/e;y=y<0?0:y>o?o:y;var f=n*(-i-h/2)/e;f=(f=h-f)<0?0:f>h?h:f;var u=n*(i-h/2)/e;u=u<0?0:u>h?h:u,t.end.style.clipPath="polygon("+x+"px "+f+"px, "+y+"px "+f+"px, "+y+"px "+u+"px, "+x+"px "+u+"px)"}},t}();e.Portal=r},82:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Walls=void 0;e.Walls=function(){}},491:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0,e.map=function(t,e,s,i,o){var h=t-e;return(h*=(o-i)/(s-e))+i}}},e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}(()=>{var t=s(651),e=s(248),i=s(491);window.onkeydown=function(e){var s=e.code;"ArrowUp"===s||"KeyW"===s?t.CONFIG.screen.data.y+=t.CONFIG.consts.movingDelta:"ArrowDown"===s||"KeyS"===s?t.CONFIG.screen.data.y-=t.CONFIG.consts.movingDelta:"ArrowRight"===s||"KeyD"===s?t.CONFIG.screen.data.x-=t.CONFIG.consts.movingDelta:"ArrowLeft"!==s&&"KeyA"!==s||(t.CONFIG.screen.data.x+=t.CONFIG.consts.movingDelta);for(var i=0,o=Array.from(document.querySelectorAll("#screen > .portal"));i<o.length;i++)o[i].context.clipPath()};var o=performance.now(),h=void 0;!function s(l){"number"!=typeof l&&(l=0);var n=l-o;for(o=l,void 0===h&&(h=t.CONFIG.consts.creationMs);h>=t.CONFIG.consts.creationMs;)h-=t.CONFIG.consts.creationMs,new e.Portal(i.map(Math.random(),0,1,-200,200),i.map(Math.random(),0,1,-200,200),-5e3,100,100,1e4,1);h+=n,t.CONFIG.consts.container.style.left=t.CONFIG.screen.data.x+"px",t.CONFIG.consts.container.style.top=t.CONFIG.screen.data.y+"px";for(var r=0,a=Array.from(document.querySelectorAll("#screen > .portal"));r<a.length;r++)a[r].context.tick(n);requestAnimationFrame(s)}()})()})();